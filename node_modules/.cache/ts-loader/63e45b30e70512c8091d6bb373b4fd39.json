{"remainingRequest":"D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\node_modules\\ts-loader\\index.js??ref--13-1!D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\src\\common\\boardService.ts","dependencies":[{"path":"D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\src\\common\\boardService.ts","mtime":1641826722467},{"path":"D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOw0KaW1wb3J0IHsgZ2V0V2ViU29ja2V0IH0gZnJvbSAiLi93ZWJzb2NrZXQiOw0KdmFyIHNlbGVjdGVkU3RhdGUgPSBbXTsNCmV4cG9ydCB2YXIgc2VsZWN0aW9uT2JzID0gVnVlLm9ic2VydmFibGUoeyBzZWxlY3RlZFN0YXRlOiBzZWxlY3RlZFN0YXRlIH0pOw0KZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdENhcmRBbmRQaWVjZShjYXJkTnVtLCBjYXJkT3B0aW9uLCBwaWVjZU51bSkgew0KICAgIHZhciBkYXRhOw0KICAgIGlmIChzZWxlY3RlZFN0YXRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICJ0eXBlIjogInJlcXVlc3QiLA0KICAgICAgICAgICAgImNhcmROdW0iOiBjYXJkTnVtLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiY2FyZE9wdGlvbiI6IGNhcmRPcHRpb24udG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJwaWVjZU51bSI6IHNlbGVjdGVkU3RhdGVbMF0ucGllY2UNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgInR5cGUiOiAicmVxdWVzdCIsDQogICAgICAgICAgICAiY2FyZE51bSI6IGNhcmROdW0udG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJjYXJkT3B0aW9uIjogY2FyZE9wdGlvbi50b1N0cmluZygpLA0KICAgICAgICAgICAgInBpZWNlTnVtIjogMA0KICAgICAgICB9KTsNCiAgICB9DQogICAgZ2V0V2ViU29ja2V0KCkuc2VuZChkYXRhKTsNCiAgICByZXNldFNlbGVjdGlvbigpOw0KfQ0KZnVuY3Rpb24gcmVzZXRTZWxlY3Rpb24oKSB7DQogICAgc2VsZWN0aW9uT2JzLnNlbGVjdGVkU3RhdGUgPSBbXTsNCiAgICBzZWxlY3RlZFN0YXRlID0gW107DQp9DQpleHBvcnQgZnVuY3Rpb24gc2VsZWN0aW9uKHN0YXRlLCBmaWVsZElkeCkgew0KICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzZWxlY3RlZFN0YXRlLmxlbmd0aCk7DQogICAgaWYgKHNlbGVjdGVkU3RhdGUubGVuZ3RoID09IDIpIHsNCiAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTsNCiAgICB9DQogICAgZWxzZSBpZiAoIXNlbGVjdGVkU3RhdGUuZmluZChmdW5jdGlvbiAoc2VsZWN0aW9uKSB7IHJldHVybiBzZWxlY3Rpb24uZmllbGRJZHggPT09IGZpZWxkSWR4OyB9KSkgew0KICAgICAgICBpZiAoc3RhdGVbMF0gPT0gdHJ1ZSAmJiBzZWxlY3RlZFN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZVswXSA9PSBmYWxzZSAmJiBzZWxlY3RlZFN0YXRlLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0kgQU0gSU5EJyk7DQogICAgICAgICAgICB2YXIgc3RhdGVPYmogPSBnZXRTdGF0ZU9iaihzdGF0ZSwgZmllbGRJZHgpOw0KICAgICAgICAgICAgc2VsZWN0ZWRTdGF0ZS5wdXNoKHN0YXRlT2JqKTsNCiAgICAgICAgICAgIHNlbGVjdGlvbk9icy5zZWxlY3RlZFN0YXRlID0gc2VsZWN0ZWRTdGF0ZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7DQogICAgICAgICAgICBhbGVydCgiaW52YWxpZCBzZWxlY3Rpb24hIik7DQogICAgICAgIH0NCiAgICB9DQp9DQpmdW5jdGlvbiBnZXRTdGF0ZU9iaihzdGF0ZSwgZmllbGRJZHgpIHsNCiAgICByZXR1cm4gew0KICAgICAgICBmaWVsZElkeDogZmllbGRJZHgsDQogICAgICAgIHNlbGVjdGVkUGllY2U6IHBhcnNlSW50KHN0YXRlWzFdKSwNCiAgICAgICAgcGllY2U6IHBhcnNlSW50KHN0YXRlWzFdKSwNCiAgICAgICAgcGxheWVySWR4OiBwYXJzZUludChzdGF0ZVsyXSksDQogICAgfTsNCn0NCmV4cG9ydCBmdW5jdGlvbiBzd2FwQ2FyZChjYXJkTnVtKSB7DQogICAgaWYgKHNlbGVjdGlvbk9icy5zZWxlY3RlZFN0YXRlLmxlbmd0aCA9PSAyKSB7DQogICAgICAgIHZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgInR5cGUiOiAic3dhcCIsDQogICAgICAgICAgICAiY2FyZE51bSI6IGNhcmROdW0udG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJvdGhlclBsYXllciI6IHNlbGVjdGlvbk9icy5zZWxlY3RlZFN0YXRlWzFdLnBsYXllcklkeCwNCiAgICAgICAgICAgICJwaWVjZU51bTEiOiBzZWxlY3Rpb25PYnMuc2VsZWN0ZWRTdGF0ZVswXS5waWVjZSwNCiAgICAgICAgICAgICJwaWVjZU51bTIiOiBzZWxlY3Rpb25PYnMuc2VsZWN0ZWRTdGF0ZVsxXS5waWVjZQ0KICAgICAgICB9KTsNCiAgICAgICAgY29uc29sZS5sb2coJ1NFTk5OREREJywgZGF0YSk7DQogICAgICAgIGdldFdlYlNvY2tldCgpLnNlbmQoZGF0YSk7DQogICAgfQ0KICAgIHJlc2V0U2VsZWN0aW9uKCk7DQp9DQo="},{"version":3,"file":"D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\src\\common\\boardService.ts","sourceRoot":"","sources":["D:\\00_Studium\\07_Semester\\WebApp\\play-Dog-web-app\\src\\common\\boardService.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport { getWebSocket } from \"./websocket\";\r\n\r\n\r\nlet selectedState: any[] = [];\r\n\r\n\r\nexport const selectionObs = Vue.observable({ selectedState });\r\n\r\n\r\nexport function selectCardAndPiece(cardNum: number, cardOption: number, pieceNum: number) {\r\n    var data;\r\n    if (selectedState.length > 0) {\r\n        data = JSON.stringify({\r\n            \"type\": \"request\",\r\n            \"cardNum\": cardNum.toString(),\r\n            \"cardOption\": cardOption.toString(),\r\n            \"pieceNum\": selectedState[0].piece\r\n        })\r\n    } else {\r\n        data = JSON.stringify({\r\n            \"type\": \"request\",\r\n            \"cardNum\": cardNum.toString(),\r\n            \"cardOption\": cardOption.toString(),\r\n            \"pieceNum\": 0\r\n        })\r\n    }\r\n    getWebSocket().send(data);\r\n    resetSelection();\r\n}\r\n\r\nfunction resetSelection() {\r\n    selectionObs.selectedState = []\r\n    selectedState = [];\r\n}\r\nexport function selection(state: any, fieldIdx: any) {\r\n\r\n    console.log(state, selectedState.length);\r\n    if (selectedState.length == 2) {\r\n        resetSelection()\r\n    } else if (!selectedState.find((selection: any) => { return selection.fieldIdx === fieldIdx })) {\r\n\r\n        if (state[0] == true && selectedState.length === 0 || state[0] == false && selectedState.length === 1) {\r\n            console.log('I AM IND')\r\n            const stateObj = getStateObj(state, fieldIdx);\r\n            selectedState.push(stateObj);\r\n            selectionObs.selectedState = selectedState;\r\n        } else {\r\n            resetSelection();\r\n            alert(\"invalid selection!\")\r\n        }\r\n    }\r\n}\r\n\r\nfunction getStateObj(state: any, fieldIdx: any) {\r\n    return {\r\n        fieldIdx: fieldIdx,\r\n        selectedPiece: parseInt(state[1]),\r\n        piece: parseInt(state[1]),\r\n        playerIdx: parseInt(state[2]),\r\n    }\r\n}\r\n\r\nexport function swapCard(cardNum: number) {\r\n    if (selectionObs.selectedState.length == 2) {\r\n        var data = JSON.stringify({\r\n            \"type\": \"swap\",\r\n            \"cardNum\": cardNum.toString(),\r\n            \"otherPlayer\": selectionObs.selectedState[1].playerIdx,\r\n            \"pieceNum1\": selectionObs.selectedState[0].piece,\r\n            \"pieceNum2\": selectionObs.selectedState[1].piece\r\n        });\r\n        console.log('SENNNDDD', data)\r\n        getWebSocket().send(data);\r\n    }\r\n\r\n    resetSelection();\r\n}"]}]}